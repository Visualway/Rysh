{% extends 'core/base.html' %}

{% block title %}
Profile
{% endblock title %}


{% block content %}
<div class="columns">
    <div class="column">
        <div class="box">
            <h1 class="title">Profile <i class="far fa-id-card"></i></h1>
            <form method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                {{ uform.as_p }}
                <br>

                <figure class="image is-128x128">
                    <img class="is-rounded" src="{{ user.profile.image.url }}">
                </figure>
                <br>
                {{ pform.as_p }}
                <a href="{% url 'password_change' %}">Change PasswordÂ <i class="fas fa-key"></i></a>
                <br>
                
                <br>
                <br>
                <button type="submit" class="button is-success">Save
                    Â ðŸ’¾
                </button>
            </form>
            <br>
            <button class="button" id="tbtn" onclick="changeTheme();">Change Theme</button>
            <br>
                <span id="msg"></span>


        </div>
    </div>
    <div class="column is-4">
        {% include 'accounts/extends/side_block.html' %}
    </div>
</div>
<script>
function changeTheme() {
    if (localStorage.getItem('theme') === 'dark') {
        localStorage.setItem('theme', 'light');
        document.documentElement.setAttribute('data-theme', 'light');
        document.getElementById('tbtn').innerHTML = 'Change Theme to Light';
        document.getElementById('msg').innerHTML = 'Refresh the page to see the changes';

    } else {
        localStorage.setItem('theme', 'dark');
        document.documentElement.setAttribute('data-theme', 'dark');
        document.getElementById('tbtn').innerHTML = 'Change Theme to Dark';
        document.getElementById('msg').innerHTML = 'Refresh the page to see the changes';
    }
}
</script>
{% endblock content %}